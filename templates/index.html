{% extends 'base.html' %}
{% block pagetitle %}
AI Engine
{% endblock pagetitle %}

{% block body %}
<div class="container py-5">
    <!-- Page Heading -->
    <div class="row mb-4 text-center">
        <div class="col-lg-10 mx-auto">
            <h1 class="display-5" style="font-weight: 400; color: rgb(4, 54, 4);">
                <b>Detect Disease</b>
            </h1>
        </div>
    </div>

    <!-- Info + Upload Row -->
    <div class="row g-4">
        <!-- Left Column: Info -->
        <div class="col-12 col-md-6">
            <div class="p-4 bg-white shadow rounded-lg h-100">
                <h5><b>Why is it necessary to detect disease in Sorghum?</b></h5>
                <p>
                    Sorghum diseases affect the growth of their respective species. Research shows gaps in early
                    detection, where symptoms may not appear clearly. Without accurate identification of the disease and
                    its cause, control measures become ineffective and may lead to further crop loss. Proper disease
                    diagnosis is essential to avoid time and resource waste.
                </p>
            </div>
        </div>

        <!-- Right Column: Upload -->
        <div class="col-12 col-md-6">
            <div class="p-4 bg-white shadow rounded-lg h-100">
                <h6 class="text-center text-muted mb-4">Upload the Sorghum's leaf image to identify disease</h6>

                <form action="/submit" method="POST" enctype="multipart/form-data">
                    <div class="mb-4">
                        <input type="file" id="actual-btn" name="image" hidden />
                        <!-- <input type="file" id="actual-btn" name="image" accept="image/*" capture="environment" hidden /> -->
                        <label for="actual-btn" class="btn w-100"
                            style="background-image: linear-gradient(300deg, #ff5c4d, #ff4d4d); color: white;">
                            Choose File
                        </label>
                        <div class="mt-2 text-center" id="file-chosen" style="color: black;">No file chosen</div>
                    </div>

                    <div class="text-center">
                        <button type="submit" class="btn btn-outline-success">Submit</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- JS to show selected file name -->
<script>
    const actualBtn = document.getElementById('actual-btn');
    const fileChosen = document.getElementById('file-chosen');

    actualBtn.addEventListener('change', function () {
        fileChosen.textContent = this.files[0]?.name || 'No file chosen';
    });
</script>
{% endblock body %}